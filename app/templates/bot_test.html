<html><head>
        <title>eTrips</title>
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <link rel="stylesheet" media="only screen" type="text/css" href="../static/css/style.css">
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.js"></script>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
        <script src="//www.anrdoezrs.net/am/8811306/include/allCj/impressions/page/am.js"></script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300" rel="stylesheet">

    </head>

    <body>
        <script type="text/javascript">
        $(function() {
            for(i = 0; i < $("#chatlogs").children().length; i++)  {
                $($("#chatlogs").children()[i]).hide().fadeIn(500).delay(400)
                if(i<$("#chatlogs").children().length-1) {
                     $($("#chatlogs").children()[i+1]).delay(400)
                }
            }
            
            $(document).on('click',"button.quick-reply", function()
            {
               console.log($(this)[0].value);
               msg=$(this)[0].value
               $("#chatlogs").append($('<div class="chat self"><p class="chat-message">'+$(this)[0].value+'</p></div>').hide().fadeIn(500)) 
               $("#chatlogs")[0].scrollTop=$("#chatlogs")[0].scrollHeight
               $(this).parent().remove();   
               $.ajax({
                        url: '/',
                        type: 'POST',
                        data: JSON.stringify({'quick_reply':{'payload':msg}}),
                        contentType: 'application/json; charset=utf-8',
                        dataType: 'html',
                        success: function(response) {
                            chat=$(response).filter('div.chat.friend')
                            quick=$(response).filter('#quick-replies')
                            console.log(chat)
                            $("#chatlogs").append(chat.hide().fadeIn(500))
                            $(".chatbox").after(quick.hide().slideDown(500))
                            $("#chatlogs")[0].scrollTop=$("#chatlogs")[0].scrollHeight
                        }
                    });  
            });

            $(document).on('click',"button.btn-checkboxes-send", function()
            {
               console.log($(this)[0].value);
               msg=$(this)[0].value
               console.log()
               array=$(this).parent().parent().find("input.checkbox-input")
               for (var i in array) {
                  //console.log(array[i].is(":checked"));
                  console.log($(array[i]).val());
                }
               $("#chatlogs").append($('<div class="chat self"><p class="chat-message">'+$(this)[0].value+'</p></div>').hide().fadeIn(500)) 
               $("#chatlogs")[0].scrollTop=$("#chatlogs")[0].scrollHeight
               $(this).parent().parent().fadeOut(500).remove();   
               // $.ajax({
               //          url: '/',
               //          type: 'POST',
               //          data: JSON.stringify({'quick_reply':{'payload':msg}}),
               //          contentType: 'application/json; charset=utf-8',
               //          dataType: 'html',
               //          success: function(response) {
               //              chat=$(response).filter('div.chat.friend')
               //              quick=$(response).filter('#quick-replies')
               //              console.log(chat)
               //              $("#chatlogs").append(chat.hide().fadeIn(500))
               //              $(".chatbox").after(quick.hide().slideDown(500))
               //              $("#chatlogs")[0].scrollTop=$("#chatlogs")[0].scrollHeight
               //          }
               //      });  
            });
            
            $("#inputchat").keypress(function (e) {
                console.log("Test here")
                if(e.which == 13 && !e.shiftKey && $("#inputchat").val() != '') { 
                    $("#chatlogs").append($('<div class="chat self"><p class="chat-message">'+$("#inputchat").val()+'</p></div>').hide().fadeIn(500)) 
                    $("#chatlogs")[0].scrollTop=$("#chatlogs")[0].scrollHeight
                    $("#quick-replies").remove(); 
                    console.log(($("#chatlogs").scrollHeight));
                    $.ajax({
                        url: '/',
                        type: 'POST',
                        data: JSON.stringify({'text':$("#inputchat").val()}),
                        contentType: 'application/json; charset=utf-8',
                        dataType: 'html',
                        success: function(response) {
                            chat=$(response).filter('div.chat.friend')
                            quick=$(response).filter('#quick-replies')
                            console.log(chat)
                            $("#chatlogs").append(chat.hide().fadeIn(500))
                            $(".chatbox").after(quick.hide().slideDown(500))
                            $("#chatlogs")[0].scrollTop=$("#chatlogs")[0].scrollHeight
                        }
                    });
                    $("#inputchat").val('');
                    e.preventDefault();
                    return false;
                }
            });
        });

        </script>
    <div class="main-window">
        <div class="chatborder">
        

<div class="headerBar">
<div class="user-photo"><img src="../static/img/matilda.png"></div>
<p class="title">Matilda</p>
</div>

<div class="chatbox">
<div class="chatlogs" id="chatlogs">           

<div class="chat friend" style="">
<p class="chat-message">Hi nice to meet you! I am your assistant Matilda and will help you to find trips and events.</p>
</div>

<div class="chat friend" style="">
<p class="chat-message">How can I help you today? Say something like 'I want to go to Toronto' or 'I am looking for events in New York'.</p>
</div>


<div class="chat self" style=""><p class="chat-message">trips in NY</p></div><div class="chat friend" style="">
<p class="chat-message">Let's find something...</p>
</div><div class="chat friend" style="">
    <div id="298" class="carousel slide" data-interval="false" data-ride="carousel">
      <div class="chat-card">
          <div class="carousel-inner">
            
            
            <div class="carousel-item">
            
              <img class="chat-img" src="https://cdn.tourradar.com/s3/tour/645x430/23205_60fd43f1.jpg" alt="First slide">
              <p class="card-title">Music, Mountains &amp; Monuments Westbound</p>
              <p class="card-subtitle">From 790.0 EUR</p>
              <p style="text-align:center"><a target="_blank" href="https://www.tourradar.com//t/23205">View more at tourradar.com</a></p>
            </div>
            
            
            <div class="carousel-item">
            
              <img class="chat-img" src="https://www.intrepidtravel.com//sites/intrepid/files/elements/product/map/ssrj_2014.gif" alt="First slide">
              <p class="card-title">Big Easy to Big Apple</p>
              <p class="card-subtitle">From 1175 $</p>
              <p style="text-align:center"><a target="_blank" href="https://www.intrepidtravel.com//us/united-states/big-easy-big-apple-101134">View more at intrepidtravel.com</a></p>
            </div>
            
            
            <div class="carousel-item">
            
              <img class="chat-img" src="https://a.travel-assets.com/lxweb/media-vault/183909_m.jpeg" alt="First slide">
              <p class="card-title">Hop-On Hop-Off Bus Tour</p>
              <p class="card-subtitle">From 69.0 $</p>
              <p style="text-align:center"><a target="_blank" href="https://www.orbitz.com/things-to-do/hop-on-hop-off-bus-tour.a183909.activity-details?srp=true&amp;location=New+York%2C+New+York&amp;categories=Tours+%26+Sightseeing%7CDay+Trips+%26+Excursions%7CPrivate+Tours%7CCruises+%26+Water+Tours%7CWalking+%26+Bike+Tours%7CAir%2C+Balloon+%26+Helicopter+Tours%7CHop-on+Hop-off&amp;latLong=40.756680%2C-73.986470&amp;pageNumber=1">View more at orbitz.com</a></p>
            </div>
            
            
            <div class="carousel-item">
            
              <img class="chat-img" src="https://www.intrepidtravel.com//sites/intrepid/files/elements/product/map/ssrc_2016.gif" alt="First slide">
              <p class="card-title">Chi-Town to New York</p>
              <p class="card-subtitle">From 884 $</p>
              <p style="text-align:center"><a target="_blank" href="https://www.intrepidtravel.com//us/united-states/chi-town-new-york-101137">View more at intrepidtravel.com</a></p>
            </div>
            
            
            <div class="carousel-item active">
            
              <img class="chat-img" src="https://a.travel-assets.com/lxweb/media-vault/249206_m.jpeg" alt="First slide">
              <p class="card-title">Statue of Liberty, Ellis Island &amp; 9/11 Museum Guided Tour</p>
              <p class="card-subtitle">From 115.0 $</p>
              <p style="text-align:center"><a target="_blank" href="https://www.orbitz.com/things-to-do/statue-of-liberty-ellis-island-9-11-museum-guided-tour.a249206.activity-details?srp=true&amp;location=New+York%2C+New+York&amp;categories=Tours+%26+Sightseeing%7CDay+Trips+%26+Excursions%7CPrivate+Tours%7CCruises+%26+Water+Tours%7CWalking+%26+Bike+Tours%7CAir%2C+Balloon+%26+Helicopter+Tours%7CHop-on+Hop-off&amp;latLong=40.756680%2C-73.986470&amp;pageNumber=1">View more at orbitz.com</a></p>
            </div>
            
          </div>
     </div>
      <a class="carousel-control-prev" href="#298" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#298" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>  
    </div>
</div></div>            
</div>
<div >
    <div  class="chat-checkboxes" >
        
    <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob1">Option 1
    </label>
    <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob2">Option 2
    </label>
    <label class="checkbox-inline">
      <input  class="checkbox-input" type="checkbox" value="zob3">Option 3
    </label>
  
        <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob4">Option 1
    </label>
    <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob5">Option 2
    </label>
    <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob6">Option 3
    </label>
          <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob7">Option 1
    </label>
    <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob9">Option 2
    </label>
    <label class="checkbox-inline">
      <input class="checkbox-input" type="checkbox" value="zob8">Option 3
    </label>


  </div>
    <div class="chat-checkboxes-send">
    <button class="btn-checkboxes-send" value="done" type="button">Send</button>
    </div>
</div>


<div class="chat-form" >
<textarea id="inputchat" class="chat-text" placeholder="Message" rows="1" data-min-rows="1"></textarea>
</div> 




        </div>        
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

    

</body></html>